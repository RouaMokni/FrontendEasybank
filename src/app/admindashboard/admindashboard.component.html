
<div class="container">
  <h2 class="title">Admin Dashboard</h2>
  <button class="btn home-btn" (click)="goHome()">Retour à la page d'accueil</button>
  <button class="btn logout-btn" (click)="logout()">Déconnexion</button>
  <div class="table-container">
    <table class="styled-table">
      <thead>
        <tr>
          <th>Full Name</th>
          <th>Email</th>
          <th>Residence</th>
          <th>Phone Number</th>
          <th>Profession</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let form of forms">
          <td>{{ form.fullName }}</td>
          <td>{{ form.email }}</td>
          <td>{{ form.residence }}</td>
          <td>{{ form.phoneNumber }}</td>
          <td>{{ form.profession }}</td>
          <td>
            <span class="status-label" [ngClass]="{'pending': !form.statusA && !form.statusB, 'accepted': form.statusA && form.statusB, 'refused': form.statusA && !form.statusB}">
              {{ form.statusA && form.statusB ? 'Accepted' : (form.statusA && !form.statusB ? 'Refused' : 'Pending') }}
            </span>
          <td>
            <button class="btn edit-btn" (click)="editForm(form)">Edit</button>
            <button class="btn view-btn" (click)="viewForm(form)">View More</button>
            <button class="btn status-btn" (click)="toggleStatus(form)">Toggle Status</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div *ngIf="forms.length === 0" class="alert">
    No forms data available.
  </div>
</div>

<!-- Modal for Edit Form -->
<div id="editFormModal" class="modal">
  <div class="modal-content">
    <span class="close" (click)="closeModal('editFormModal')">&times;</span>
    <h2>Edit Form</h2>
    <form *ngIf="selectedForm">
      <div class="form-group">
        <label for="fullName">Full Name</label>
        <input type="text" id="fullName" [(ngModel)]="selectedForm.fullName" name="fullName">
      </div>
      <div class="form-group">
        <label for="email">Email</label>
        <input type="email" id="email" [(ngModel)]="selectedForm.email" name="email">
      </div>
      <div class="form-group">
        <label for="residence">Residence</label>
        <input type="text" id="residence" [(ngModel)]="selectedForm.residence" name="residence">
      </div>
      <div class="form-group">
        <label for="phoneNumber">Phone Number</label>
        <input type="text" id="phoneNumber" [(ngModel)]="selectedForm.phoneNumber" name="phoneNumber">
      </div>
      <div class="form-group">
        <label for="profession">Profession</label>
        <input type="text" id="profession" [(ngModel)]="selectedForm.profession" name="profession">
      </div>
      <div class="form-group">
        <label for="state">State </label>
        <input type="text" id="state" [(ngModel)]="selectedForm.state" name="state">
      </div>
      <div class="form-group">
        <label for="why">Why </label>
        <input type="text" id="why" [(ngModel)]="selectedForm.why" name="why">
      </div>
      <var><var><div class="form-group">
        <label for="madkhoull">Madkhoull </label>
        <input type="text" id="madkhoull" [(ngModel)]="selectedForm.madkhoull" name="madkhoull">
      </div>
      <div class="form-group">
        <label for="salaire">Salaire </label>
        <input type="text" id="salaire" [(ngModel)]="selectedForm.salaire" name="salaire">
      </div>
      <div class="form-group">
        <label for="loanType">Loan Type</label>
        <input type="text" id="loanType" [(ngModel)]="selectedForm.loanType" name="loanType">
      </div>
    </var></var>
      <!-- Add more form fields as necessary -->
      <button type="button" class="btn save-btn" (click)="saveChanges()">Save changes</button>
    </form>
  </div>
</div>

<!-- Modal for View Form -->
<div id="viewFormModal" class="modal">
  <div class="modal-content">
    <span class="close" (click)="closeModal('viewFormModal')">&times;</span>
    <h2>View Form</h2>
    <div *ngIf="selectedForm">
      <div class="form-group">
        <label for="viewFullName">Full Name</label>
        <p id="viewFullName">{{ selectedForm.fullName }}</p>
      </div>
      <div class="form-group">
        <label for="viewEmail">Email</label>
        <p id="viewEmail">{{ selectedForm.email }}</p>
      </div>
      <div class="form-group">
        <label for="viewResidence">Residence</label>
        <p id="viewResidence">{{ selectedForm.residence }}</p>
      </div>
      <div class="form-group">
        <label for="viewPhoneNumber">Phone Number</label>
        <p id="viewPhoneNumber">{{ selectedForm.phoneNumber }}</p>
      </div>
      <div class="form-group">
        <label for="viewPhoneNumber">Profession</label>
        <p id="viewPhoneNumber">{{ selectedForm.profession }}</p>
      </div>
      <div class="form-group">
        <label for="viewPhoneNumber">State</label>
        <p id="viewPhoneNumber">{{ selectedForm.state }}</p>
      </div>
      <div class="form-group">
        <label for="viewPhoneNumber">Why</label>
        <p id="viewPhoneNumber">{{ selectedForm.why }}</p>
      </div>
      <div class="form-group">
        <label for="viewPhoneNumber">Madkhoull</label>
        <p id="viewPhoneNumber">{{ selectedForm.madkhoull }}</p>
      </div>
      <div class="form-group">
        <label for="viewPhoneNumber">Salary</label>
        <p id="viewPhoneNumber">{{ selectedForm.salaire }}</p>
      </div>
      <div class="form-group">
        <label for="viewPhoneNumber">Loan Type</label>
        <p id="viewPhoneNumber">{{ selectedForm.loanType }}</p>
      </div>
      <div class="form-group">
        <label for="viewPhoneNumber">bank</label>
        <p id="viewPhoneNumber">{{ selectedForm.charik1bank }}</p>
      </div>
      <!-- Add more form fields as necessary -->
    </div>
  </div>
</div>